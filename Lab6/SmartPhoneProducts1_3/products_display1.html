<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smartphone Products</title>
    <p style="text-align: center; font-weight: bold;">
        Hits: <span id="hits_span">0</span>
        Spins: <span id="spins_span">0</span>
        Hit/Spin: <span id="hit_spin_span">0</span>
        You win: <span id="win_span">pending...</span>
    </p>
    <link rel="stylesheet" type="text/css" href="products-style.css">
    <style id="localStyle"></style>
    <script>
        const store_name = "Jolin Zhang";
        let first_name = "Jolin";
        let last_name = "Zhang";
        let over_half = false;
        let hits = 0;
        let spins = 0;
    </script>
</head>
<body>
    <header>
        <h1>
            <script>
                document.write(`${first_name.bold().fontsize(8)} ${last_name.italics().fontsize(8)}
                's Used Smart Phone Store`);
                document.querySelector('header').innerHTML = headerContent;
            </script>
            
        </h1>
    </header>
    <body onload="hits_span.innerHTML = hits; spins_span.innerHTML = spins;">
       
        <input id="speedSlider" type='range' min="5" step=".1" style="direction: rtl;" onchange="localStyle.innerHTML 
        = '.rotate img {animation-duration:' + speedSlider.value + 's;}';">
        <div>
                <aside>
                    <div style="font-size:4rem;text-align:center;font-weight: bold;font-style: italic; color: white">
                        We sell from
                        around the globe!
                    </div>
                </aside>
            <main>
                <section class="item" 
                onmouseover="
                if(!this.className.includes('rotate')) {
                changeClassName(this); spins=spins+1;    
                 }
                    over_half = over_half ||(spins < 2*hits) && (hits < spins);
                    win_span.innerHTML = over_half;
                    hit_spin_span.innerHTML=(hits/spins).toFixed(2);
                    hits_spins_ratio=hits/spins;
                    if(hits_spins_ratio>0 &&hits_spins_ratio<0.5)
                    {
                        progress='On your way!';
                    }
                    else if (hits_spins_ratio >= 0.25 &&hits_spins_ratio<0.5)
                    {
                    progress ='Almost there!';
                    }
                    else if (hits_spins_ratio>= 0.25 && hits_spins_ratio <0.5)
                    {
                        progress ='Almost There';
                    }
                    else if (hits_spins_ratio>=0.5)
                    {
                        if(hits < spins)
                        progress = 'You Win!';
                    }
                    else{
                        progress='Get Going!'
                    }
                    win_span.innerHTML=progress;"
                
            onclick="resetClassName(this);
                if(this.className.includes('rotate')) {
                    this.className='item';

                }
                    hits_spins_ratio =hits/spins;
                    if (hits_spins_ratio > 0 && hits_spins_ratio < 0.25)
                    {
                        progress= 'On your way!';
                    }
                    else if (hits_spins_ratio>= 0.25 && hits_spins_ratio<0.5)
                    {
                        progress='Almost There!';
                    }
                    else if (hits_spins_ratio>=0.5)
                    {
                        if(hits<spins)
                        { 
                            progress='You Win!';
                        }
                    }
                    else{
                        progress='Get Going!';
                    }
                    Win_span.innerHTML=progress;
                    hits=hits+=1;
                    over_half = over_half ||(spins < 2*hits) && (hits < spins);
                    win_span.innerHTML = over_half;
                    hits_span.innerHTML = ++hits
                    hits; hit_spin_span.innerHTML=(hits/spins).toFixed(2);">
                
                    <h2>HTC</h2>
                    <p>&dollar; 40</p>
                    <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/HTC.jpg" />
                </section>
                <section class="item" onmouseover="changeClassName(this); spins_span.innerHTML = spins++;"
                    onclick="resetClassName(this); hits_span.innerHTML = hits++;">
                    <h2>Apple</h2>
                    <p>&dollar; 75</p>
                    <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/iphone-3gs.jpg" />
                </section>
                <section class="item" onmouseover="changeClassName(this); spins_span.innerHTML = spins++;"
                    onclick="resetClassName(this); hits_span.innerHTML = hits++;">
                    <h2>Nokia</h2>
                    <p>&dollar; 35</p>
                    <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Nokia.jpg" />
                </section>
                <section class="item" onmouseover="changeClassName(this); spins_span.innerHTML = spins++;"
                    onclick="resetClassName(this); hits_span.innerHTML = hits++;">
                    <h2>Samsung</h2>
                    <p>&dollar; 45</p>
                    <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Samsung.jpg" />
                </section>
                <section class="item" onmouseover="changeClassName(this); spins_span.innerHTML = spins++;"
                    onclick="resetClassName(this); hits_span.innerHTML = hits++;">
                    <h2>Blackberry</h2>
                    <p>&dollar; 10</p>
                    <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Blackberry.jpg" />
                </section>
            </main>
        </div>
        <footer>
            <h1>
                <script>
                    function changeClassName(element) {
                        element.className = 'item rotate';
                    }

                    function resetClassName(element) {
                        element.className = 'item';
                    }

                    document.getElementById('hits_span').innerHTML = hits;
                    document.getElementById('spins_span').innerHTML = spins;
                </script>
            </h1>
            <h1>
                <script>
                    let line = 1;
                    const now = new Date();
                    const hours = now.getHours();
                </script>
            </h1>
            <h3>
                <script>
                    document.write(`
                    <table border="1" style="margin-left: auto; margin-right: auto; text-align: center;">
                        <tr><th colspan="2"><h1>Your One Stop For Used Phones - ${first_name[0].toUpperCase()}.${last_name[0].toUpperCase()}.'s</h1></th></tr>
                        <tr><td> 1. </td><td><br />Copyright @ ${first_name} ${last_name}</td></tr>
                        <tr><td> 2. </td><td>${now.getFullYear()}</td></tr>
                        <tr><td> 3. </td><td>${((hours + 11) % 12 + 1)}:${(now.getMinutes() < 10 ? '0' : '') + now.getMinutes()} ${(hours < 12) ? 'AM' : 'PM'}</td></tr>
                    </table>
                        `);
                </script>
            </h3>
        </footer>
        <script src="products-style.css"></script>
</body>
</html>
